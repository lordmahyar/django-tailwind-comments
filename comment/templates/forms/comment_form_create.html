{% load comment_tags %}

<form id="form-comment-create" method="post" action="{% url 'comment:create' %}">{% csrf_token %}

    {# render info inputs #}
    {% include 'comment/object_info.html' with object_info=object_info %}

    {# main form #}
    <div class="block rounded-lg bg-gray-200 dark:bg-slate-600 p-4">
        {% if request.user.is_authenticated %}
            <textarea name="content" id="id_content" rows="5" placeholder="Write Something..." spellcheck="false" class="mb-4 box-border block min-h-[124px] w-full resize-y bg-transparent px-2 text-base outline-0 dark:text-gray-100 selection:bg-indigo-200 dark:selection:bg-indigo-700 placeholder:text-gray-500 dark:placeholder:text-slate-400"></textarea>

            <div class="flex justify-end">
                {#ALLOW_SPOILER#}
                {% get_settings 'COMMENT_ALLOW_SPOILER' as COMMENT_ALLOW_SPOILER %}
                {% if COMMENT_ALLOW_SPOILER %}
                    <label class="ltr:mr-4 rtl:ml-4 grid content-center">
                        <input type="checkbox" name="is_spoiler" id="id_is_spoiler" class="peer sr-only"/>
                        {#ICON EYE#}
                        <span class="block cursor-pointer peer-checked:hidden">{% include 'icons/icon_eye.html' with class='inline-block w-8 fill-none stroke-gray-500 dark:stroke-gray-200' %}</span>
                        {#ICON EYE OFF#}
                        <span class="hidden cursor-pointer peer-checked:block">{% include 'icons/icon_eye_off.html' with class='inline-block w-8 fill-gray-500 dark:fill-gray-200' %}</span>
                    </label>
                {% endif %}
                <button type="button" onclick="CreateComment('form-comment-create')" class="rounded-lg border-none bg-black dark:bg-slate-200 py-2 px-6 text-xl text-white dark:text-black dark:font-semibold outline-0 shadow-md">Send</button>
            </div>
        {% else %}
            <div class="dark:text-white"><a href="{% get_settings 'LOGIN_URL' %}" class="font-bold text-blue-700 dark:text-blue-400">Login</a> to comment!</div>
        {% endif %}
    </div>

</form>
